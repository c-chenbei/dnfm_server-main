# DNFM Server

## 功能说明
电脑上的游戏窗口必须在前台才可以运行。
1. **技能坐标配置**
   - 在 `skill.json` 文件中，配置技能坐标。
   - 使用手机截屏功能截图，使用画图工具打开截图，将摇杆，攻击，技能等按键的坐标配置到文件中。
   - 技能名称不能修改，只需修改坐标。如果要改的话，必须把 gamecontrol.py里面的技能都改掉，一一对应。

2. **技能映射**
   - 在 `hero` 文件夹下的 `naima.json` 文件中，将技能名称与 `skill.json` 文件夹内的技能对应。
   - naima.py文件里面设定了每个房间预定释放的技能，放完以后如果还有怪物就会一直普攻，所以这个脚本稍加修改就能更加适用于普攻职业。
3. **控制算法**
   - `run` 按钮：启动控制算法。启动MAIN.PY后需要点击run才会开始运行。
   - `stop` 按钮：停止控制算法。
   - `reset` 按钮：重启控制算法的线程。

4. **FPS 调整**
   - 在 `main.py` 文件的第21行找到 `fpsmax` 参数，调整其值到 5 到 30 之间。
   - 较低的 FPS 值会提高安全性，较高的 FPS 值会提高稳定性。

5. **英雄位置检测**
   - 如果英雄位置检测不准确，可以使用黑钻位置计算英雄位置。

6. **触控功能**
   - 仅支持点击屏幕，请先暂停算法

7. **修改代码**
   - 仅需要修改 `game_action.py` 和 `naima.py` 其他尽量不要改
   -  gamecontrol.py 中搜索adb.device().click，把里面的坐标改为再次挑战的坐标，理论上只有两种情况。因为有些角色没有做完异闻录。
7. **技能加点**
   - 代码中释放的技能都建议加满。其实技能对应的摆放位置罢了，你把对应位置的技能加满就可以，

8. **过图检测**
   - 在不同手机上适配有问题
   - 需要自行调整参数，保证一次只过一张图。其实就是调每次move后面的角度，在naima.py里面，我觉得不用调。

## 项目启动步骤

1. 确保正确配置技能对应的坐标和技能映射。
2. 调整 FPS 设置以适应你的需求。
3. 使用控制按钮运行或停止算法，必要时重启线程。
4. 打开config.py文件查看详细配置指导

## 贡献

欢迎贡献新功能和优化代码，提交 PR 和 Issues 一起改进项目！

